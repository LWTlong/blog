---
title: 纯函数和副作用以及高阶函数
order: 3
article: false
tag:
  - JavaScript
---

## 纯函数

纯函数就是相同的输入，永远得到相同的输出 ，并且没有任何副作用。

```javascript 
let a = 1
function sum(num1, num2) {
    return num1 + num2 + a
}
// 非纯函数，因为它依赖了函数外部的变量a

const arr = [1, 2, 3]
// 纯函数，没有改变原数组
arr.slice(0)
// 非纯函数，改变了原数组 有副作用
arr.splice(0)
```

纯函数优点: 
1. 安全：无副作用，不破坏外面的状态
2. 可测试性强：入参固定，输出固定，好断言
3. 可缓存：同入同出，便于缓存，提升效率

## 函数的副作用

函数调用时，除了返回函数值之外，还对外界产生附加的影响。

* 修改了变量
* 修改了入参
* 输出的日志，比如输出了引用，会影响回收
* 操作了 DOM
* 发送了 Http 请求
* 操作客户端存储
* 和其他等等不该做的事情

这些操作都属于副作用。例子就不写了，太多了，累。

## 高阶函数

就是一个接受函数作为参数或者函数作为输出返回的函数

特征：函数作为入参，或者函数作为返回值，满足 任一 条件即可。

高阶函数的应用很多，比如柯里化，高阶组件等等。
