---
title: 浏览器渲染流程
order: 1
#article: false
category:
  - 性能优化
tag:
  - 浏览器渲染原理
---

# 浏览器渲染流程和关键渲染路径

浏览器渲染流程是指浏览器从接收到 HTML、CSS 和 JavaScript 文件到最终呈现网页的过程。关键渲染路径（Critical Rendering Path）是指浏览器渲染网页的关键步骤，它直接影响网页的加载速度和性能。

## 浏览器渲染流程

浏览器渲染流程大致可以分为以下几个步骤：

1. **解析 HTML**：浏览器首先解析 HTML 文件，生成 DOM（文档对象模型）树。
2. **解析 CSS**：浏览器解析 CSS 文件，生成 CSSOM（CSS 对象模型）树。
3. **合并 DOM 和 CSSOM**：浏览器将 DOM 树和 CSSOM 树合并，生成渲染树（Render Tree）。
4. **布局（Layout）**：浏览器计算渲染树中每个元素的位置和大小，生成布局树（Layout Tree）。
5. **绘制（Paint）**：浏览器根据布局树绘制网页，生成位图（Bitmap）。
6. **合成（Composite）**：浏览器将位图合成，生成最终的网页。

## 关键渲染路径

1. `javascript`： JavaScript 会阻塞 DOM 的解析，因为 JavaScript 可以修改 DOM 结构。
2. `style`: 这一步会重新解析样式，通过 css 选择器来匹配 DOM 元素，并计算样式。
3. `layout`: 根据计算后的样式，浏览器会计算出每个元素的位置和大小，也就是布局。
4. `paint`: 根据布局，浏览器将每个元素绘制出来。绘制图片、文字、阴影等等的样式。
5. `composite`: 将所有的层合并成一张图，显示在屏幕上。浏览器是会把不同的东西绘制在不同的层上，然后合并成一个图，就是我们最后看见的网页。
