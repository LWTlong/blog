---
title: 字体优化
order: 3
#article: false
category:
  - 性能优化
tag:
  - 字体优化
---

## 字体引入

字体引入一般使用 `@font-face`，如：

```css
@font-face {
  font-family: 'MyWebFont';
  src: url('webfont.eot'); /* IE9 Compat Modes */
  src: url('webfont.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */
}
```

字体引入，实际上只有在这个字体被使用的时候，才会被下载，所以，如果有多种字体，可以对字体的引入进行分组。

使用多个 `@font-face`，来引入不同的字体。

## 字体显示

如果用了自定义的字体，那么字体是需要下载的，如果字体未下载完成，那么字体就会显示为默认字体。

在字体下载的期间，到下载完成渲染，可能就会出现字体闪烁的情况。

使用 `font-display` 属性，可以控制字体的显示, 它的几个有效属性：

* `auto`：默认值，字体显示策略由浏览器决定
* `block`：会等待3s左右的时间，如果字体还是没有加载，会先显示默认字体，等待字体加载完成后再进行替换。
* `swap`：会立即显示默认字体，等待字体加载完成后再进行替换。
* `fallback`：会等待大概 100ms 的时间，如果字体还没有加载，会先显示默认字体，等待字体加载完成后再进行替换。
* `optional`：等待 100ms 的加载时间，然后浏览器会对字体进行选择，如果字体没有加载，则使用默认字体，唯一的区别就是，就算字体加载完成，也不会进行替换了。


